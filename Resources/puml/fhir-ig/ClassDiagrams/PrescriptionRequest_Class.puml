@startuml "PrescriptionRequest_Class"
!define RECTANGLE class

RECTANGLE "ServiceRequest" as SR {
    +identifier:requestId: string
    +basedOn: Reference<ERPServiceRequestMedicationRequest>
    +status: #active
    +intent: #order
    +code: #prescription-request
    +subject: Reference<Patient>
    +occurrence: dateTime
    +authoredOn: Date
    +requester: Reference<ERPServiceRequestOrganization>
    +performer: Reference<ERPServiceRequestPractitioner>
    +note: String
    +reasonCode: String
    +priority: #routine | #urgent
}

RECTANGLE "ERPServiceRequestMedicationRequest" as MR {
    +extension:PriorPrescriptionID: String
    +extension:requestMVO.extension:Kennzeichen: boolean
    +dispenseRequest.quantity: Quantity
    +medicationReference: Reference<KBV_Medication>
}

RECTANGLE "ERPServiceRequestPatient" as P {
    +name: String
    +identifier:kvnr: String
    +birthDate: Date
}

RECTANGLE "ERPServiceRequestOrganization" as O {
    +name: String
    +address: String
    +contact:tel: String
    +contact:kim: String
}

RECTANGLE "ERPServiceRequestPractitioner" as PR {
    +name: String
    +identifier:ANR: String
}

SR .down.> P : .subject
SR .up.> MR : .basedOn
SR .down.> O : .requester
SR .down.> PR : .performer
@enduml
